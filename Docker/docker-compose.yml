version: "3"
services:
   randomizer-service:
      hostname: randomizer-service
      image: tomee
      build: .\service 
      image: randomizer-service
      volumes:
         - c:\volumeshare\randomizer:/volumeshare
      ports:
      - "8080:8080"
      networks:
      - randomizer_net    
   randomizer-ui:
      hostname: randomizer-ui
      image: tomee
      build: .\ui
      image: randomizer-ui
      volumes:
         - c:\volumeshare\randomizer:/volumeshare
      ports:
      - "8090:8080"
      networks:
      - randomizer_net
      environment:
      - RANDOMIZER_SERVER_NAME=randomizer-service
      - RANDOMIZER_SERVER_PORT=8080
networks:
   randomizer_net:
      driver: bridge